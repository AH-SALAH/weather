<template>
   <div id='my-loader'>
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 600 300"><g><g><defs><path id="a" d="M506.173 138.418c.748.106 1.267.413 1.586.908.317.493.337 1.031.036 1.578-.301.548-.819.94-1.567 1.187-.499.168-1.037.238-1.61.228l-.602-.032c-.381-.017-.72-.028-1.01-.034-.283-.011-.656-.004-1.12.02-.454.023-.865.063-1.218.119-.238.046-.411.011-.503-.109-.091-.119-.046-.232.154-.34.273-.162.555-.366.855-.615.301-.251.53-.47.692-.648.166-.179.348-.39.558-.634l.325-.396c.336-.366.747-.666 1.238-.889.722-.331 1.459-.454 2.186-.343zm-14.256-1.521l-1.258 1.789c-.755 1.057-1.464 1.995-2.12 2.843-.666.851-1.548 1.861-2.66 3.173-1.107 1.314-2.2 2.611-3.305 3.977-.363.432-.589.872-.664 1.284l-.027.289.011.242c.017.149.072.262.154.344.171.16.456.18.848.058.197-.061.407-.159.617-.286.219-.127.439-.285.673-.471 1.433-1.136 2.996-2.084 4.699-2.839 1.712-.75 3.124-1.144 4.26-1.387 1.131-.238 2.367-.415 3.743-.472 1.365-.053 2.139.011 2.284.013 2.177.081 4.353.37 6.475.238 3.105-.145 5.318-1.44 6.454-3.875.282-.598.491-1.206.62-1.812.063-.302.108-.602.136-.904.02-.298.027-.598.02-.889-.055-1.179-.411-2.297-1.057-3.35-1.302-2.108-3.435-3.36-6.374-3.764-.736-.098-1.473-.141-2.201-.119-.729.021-1.457.102-2.188.247-1.444.285-2.893.813-4.321 1.58-1.995 1.069-3.599 2.458-4.819 4.091z"/></defs><use class="drop_anime" xlink:href="#a" overflow="visible" fill-rule="evenodd" clip-rule="evenodd" fill="#6cf"/><clipPath><use xlink:href="#a" overflow="visible"/></clipPath></g><g><path class="text" d="M164.319 126.296l-21.921 71.037h-13.85l-9.267-38.073-9.167 38.073h-13.952l-21.92-71.037h15.445l12.753 43.591 10.563-43.591h12.554l10.563 43.591 12.753-43.591h15.446zM220.022 183.673c-5.68 9.097-12.555 16.005-22.419 16.005-14.049 0-25.708-14.475-27.202-33.792-1.694-21.663 10.96-42.075 27.302-42.075 17.039 0 27.501 23.179 24.811 45.389h-38.164c2.093 7.439 7.275 12.409 13.253 12.409 4.185 0 8.071-2.625 11.259-7.438l11.16 9.502zm-35.672-28.134h25.409c0-7.441-6.177-13.66-12.056-13.66-7.275 0-13.353 6.626-13.353 13.66zM398.214 165.324v32.009h-15.343v-32.009c0-10.473-3.091-17.367-12.259-17.367-6.575 0-11.956 7.582-12.055 16.959v32.416h-15.646v-97.654h15.646v33.932c.099-.14 5.479-8.283 13.851-8.283 21.322 0 25.806 23.178 25.806 39.997zM454.915 183.673c-5.679 9.097-12.556 16.005-22.418 16.005-14.052 0-25.708-14.475-27.204-33.792-1.693-21.663 10.961-42.075 27.303-42.075 17.04 0 27.501 23.179 24.811 45.389h-38.164c2.093 7.439 7.276 12.409 13.255 12.409 4.184 0 8.069-2.625 11.259-7.438l11.158 9.502zm-35.673-28.134h25.411c0-7.441-6.179-13.66-12.058-13.66-7.273 0-13.353 6.626-13.353 13.66zM468.767 126.436h15.346v70.897h-15.346z"/></g></g><path class="st0 cloud-stick" d="M319.909 92.945s17.316 115.406 0 98.055c-2.882-2.888-4.882-6.345-4.882-9.222"/><g><linearGradient id="ID_3" gradientUnits="userSpaceOnUse" x1="319.622" y1="40.803" x2="319.622" y2="113.243"><stop offset="0" stop-color="#DADADA"/><stop offset=".5" stop-color="#878787"/><stop offset="1" stop-color="#575756"/></linearGradient><path class="st1" d="M366.879 85.199c-2.451-3.692-15.94-15.261-21.799-16.867-19.982-5.468-19.979-20.057-29.063-22.79-9.085-2.735-25.433 9.572-27.247 15.042-1.815 5.471-18.772 19.144-16.954 23.248 1.816 4.101 7.264 6.381 7.264 6.381.513.967 2.144 1.755 4.526 2.4l.045-.127s2.65-2.661 2.65-3.991c0-1.332-7.072-3.995-7.072-3.995l2.653-1.666 5.747 1.332s12.382 4.992 15.918 3.328c3.534-1.663 53.051-1.996 53.051-1.996l-1.766 3.66 3.979 2.333v.363c5.788-1.07 10.574-2.884 8.068-6.655z"/><linearGradient id="ID_4" gradientUnits="userSpaceOnUse" x1="319.022" y1="41.22" x2="319.022" y2="113.079"><stop offset="0" stop-color="#DADADA"/><stop offset=".5" stop-color="#878787"/><stop offset="1" stop-color="#575756"/></linearGradient><path class="st2" d="M354.833 89.157l1.766-3.66s-49.517.333-53.051 1.996c-3.536 1.664-15.918-3.328-15.918-3.328l-5.747-1.332-2.653 1.666s7.072 2.664 7.072 3.995-2.65 3.991-2.65 3.991l-.045.127c14.485 3.93 57.833 2.422 61.473 1.249 2.05-.659 8.326-1.008 13.732-2.008v-.363l-3.979-2.333z"/><path class="st6 cloudpart-anime" d="M354.833 89.157l1.766-3.66s-49.517.333-53.051 1.996c-3.536 1.664-15.918-3.328-15.918-3.328l-5.747-1.332-2.653 1.666s7.072 2.664 7.072 3.995-2.65 3.991-2.65 3.991l-.045.127c14.485 3.93 57.833 2.422 61.473 1.249 2.05-.659 8.326-1.008 13.732-2.008v-.363l-3.979-2.333z"/><path class="st5" d="M313.274 47.219c-.782-2.351-14.148 5.326-16.358 7.659-2.211 2.33-4.421 5.324-1.77 5.324 2.653 0 11.938.331 10.169-1.664-1.767-1.999 8.4-9.986 7.959-11.319z"/><path class="st6 cloudpart-anime" d="M317.695 50.55s-4.421 2.662-3.536 4.657c.883 2 4.421-.997 4.421-.997l.884 5.326s-3.095 1.332-4.422 3.327c-1.326 1.999-6.19 4.995-6.19 4.995l3.095 2.33s4.423-5.658 7.074-5.658c2.654 0 5.749 2.994 5.749 2.994l-4.864.665 7.957 1.666s16.804 2.328 18.13 2.997c1.324.663-3.538-2.664-3.538-2.664s-10.612-1.332-12.822-3.994c-2.211-2.664-7.516-4.995-7.516-4.995l3.537-2.329c-.001 0-6.191-8.989-7.959-8.32zM327.862 71.52l11.497 1.331 3.979 1.995 8.399-.998 7.516 7.32-6.189-2.993-6.189.665s-6.19-3.993-8.4-2.662c-2.21 1.332-7.074 2.996-7.074 2.996l1.326-4.328h-12.378l2.21-2.664 5.303-.662z"/></g><g><g><path class="st3" d="M316.792 194.767c-.222-.175-.386-.397-.525-.636l-.156-.263c-.236-.214-.442-.46-.566-.774l-.17-.155c-.369.156-.776.24-1.281.214-.271-.157-.481-.33-.64-.519-.159-.188-.264-.393-.325-.61-.097-.25-.127-.503-.107-.752.024-.25.092-.496.205-.748.412-2.352 4.651-2.138 1.967-5.105-1.41-.07-3.564.529-5.366 2.229-.203.224-.383.473-.527.755-.144.285-.255.6-.315.95-.228.201-.434.414-.621.638-1.893 2.241-2.041 5.503-.352 7.91.153.22.321.431.506.633.202.222.413.429.635.616.51.429 1.072.77 1.664 1.02.199.083.4.154.604.217.29-.021.568-.062.836-.118 1.559-1.466 2.3-2.137 3.873-3.961l.185-.12c.536-.328.825-.509 1.04-.667-.171-.179-.312-.385-.444-.599l-.12-.155z"/><path class="st7" d="M291.165 186.502c-.219 4.833 8.333 9.138 19.124 9.627"/></g><g><defs><path id="b" d="M288.299 177.735c-2.131 2.356-4.66 4.22-7.586 5.604-2.927 1.384-5.997 2.075-9.211 2.075-3.217 0-6.289-.691-9.214-2.075-2.928-1.384-5.457-3.247-7.587-5.604-2.128-2.355-3.819-5.151-5.07-8.386-1.251-3.235-1.874-6.633-1.874-10.185 0-3.557.623-6.952 1.874-10.187 1.251-3.235 2.942-6.03 5.07-8.386 2.13-2.354 4.659-4.222 7.587-5.605 2.925-1.381 5.998-2.073 9.214-2.073 3.214 0 6.284.692 9.211 2.073 2.926 1.383 5.455 3.251 7.586 5.605 2.129 2.356 3.818 5.151 5.071 8.386 1.249 3.235 1.876 6.63 1.876 10.187 0 3.552-.627 6.949-1.876 10.185-1.252 3.235-2.942 6.031-5.071 8.386zm18.158-7.27l-7.42-11.3 7.42-11.304c.248-.395.304-.834.167-1.32-.111-.458-.385-.761-.824-.914l-12.038-4.374v-13.944c0-.486-.179-.881-.537-1.187-.411-.303-.81-.364-1.194-.181l-12.038 4.285-7.42-11.304c-.248-.364-.604-.547-1.07-.547-.47 0-.826.183-1.072.547l-7.422 11.304-12.036-4.285c-.387-.183-.786-.122-1.196.181-.356.306-.535.7-.535 1.187v13.944l-12.038 4.374c-.441.153-.714.456-.824.914-.138.486-.083.926.165 1.32l7.42 11.304-7.42 11.3c-.249.365-.303.805-.165 1.322.11.455.383.761.824.911l12.038 4.374v13.949c0 .483.179.879.535 1.184.411.301.81.362 1.196.184l12.036-4.285 7.422 11.3c.272.395.63.594 1.072.594.437 0 .795-.199 1.07-.594l7.42-11.3 12.038 4.285c.385.179.783.117 1.194-.184.358-.305.537-.7.537-1.184v-13.949l12.038-4.374c.439-.15.713-.456.824-.911.136-.517.081-.957-.167-1.322z"/></defs><use class="flame-use-path sun-flame" xlink:href="#b" overflow="visible" fill-rule="evenodd" clip-rule="evenodd" fill="#fc0"/><clipPath><use xlink:href="#b" overflow="visible"/></clipPath></g><ellipse class="st3" cx="271.5" cy="159.154" rx="24" ry="26.5"/><g><circle class="st4" cx="281.867" cy="152.506" r="5"/><circle class="st4" cx="262.5" cy="152.506" r="5"/><path class="mouse" d="M264.195 173.498c1.755.156 3.063.21 4.383.247 1.302.028 2.547.061 3.827.056 1.279-.008 2.571-.078 3.932-.18 1.368-.102 2.771-.266 4.448-.445l.4.557c-.782 1.582-2.121 2.771-3.624 3.612-1.512.843-3.224 1.312-4.965 1.422-1.739.11-3.538-.162-5.151-.94-1.588-.769-3.071-2.035-3.669-3.785l.419-.544z"/><ellipse :cx="l_eye_pos.cx" :cy="l_eye_pos.cy" rx="1.935" ry="2.237"/><ellipse :cx="r_eye_pos.cx" :cy="r_eye_pos.cy" rx="1.982" ry="2.195"/></g></g></svg>

   </div>
</template>

<script>

export default {
   name: 'my-loader',
   data () {
      return {
         l_eye_pos: {'cx': '262.794','cy': '153.743'},
         r_eye_pos: {'cx': '281.753','cy': '153.506'}
      }
   },
   mounted () {
         let int = setInterval(eyes,1000),
             self = this;
            //   console.log(cx,cy,this);
         function eyes() {
            if(parseFloat(self.l_eye_pos.cy) <= 153.743) {
               parseFloat(self.l_eye_pos.cy++);
            }else{
               parseFloat(self.l_eye_pos.cy--);
            }

            if(parseFloat(self.r_eye_pos.cy) <= 153.506) {
               parseFloat(self.r_eye_pos.cy++);
            }else{
               parseFloat(self.r_eye_pos.cy--);
            }

         };
      
   },

};
</script>

<style lang='scss' scoped>
@import "../assets/styles/variables";
@import "../assets/styles/mixins";

#my-loader{
   position: fixed;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   width: 100%;
   height: 100%;
   z-index: 3;
   overflow: hidden;
   background: rgba(255,255,255,0.9);
   -webkit-display: flex;
   display: flex;
   -webkit-align-items: center;
   align-items: center;
   -webkit-justify-content: center;
   justify-content: center;
   @include transition(all 0.5s ease);


   & svg {
      @include opacity(0);
      @include animation(svg-fade,0.5s cubic-bezier(0.3,-0.3,0,1.3) forwards);

         @include keyframes (svg-fade) {
            from { @include opacity(0); @include translate(-100%,0); }
            to { @include opacity(1); @include translate(0,0); }
         }
      
      & .st0{fill:none;stroke:#000000;stroke-width:10;stroke-miterlimit:10;}
      & .st1{fill:url(#ID_3);}
      & .st2{fill:url(#ID_4);}
      & .st3{fill:#FF9900;}
      & .st4{fill:#FFFF66;}
      & .st5{opacity:0.4;fill:#FFFFFF;}
      & .st6{opacity:0.4;fill:#333333;}
      & .st7{fill:none;stroke:#FF9900;stroke-width:5;stroke-miterlimit:10;}

      & .text {
         @include translate(0,100vh);
         @include animation(txt-slide,0.8s cubic-bezier(0.3,-0.3,0,1.3) forwards 1s);

         @include keyframes (txt-slide) {
            from { @include opacity(0); @include translate(0,100vh); }
            to { @include opacity(1); @include translate(0,0); }
         }
      }

      // ========================
      & .sun-flame {
         @include transform-origin(272px 160px 0);
         @include animation(sun-flame,5s cubic-bezier(0.3,-0.5,0,1.3) infinite alternate);

         @include keyframes (sun-flame) {
            0% { @include opacity(1); @include rotate(0); }
            100% { @include opacity(1); @include rotate(360); }
         }
      }

      // ==========================
      & .flame-use-path{
         fill: rgba(220, 20, 60,1);
         stroke-width: 8px;
         stroke: rgba(255, 153, 0,1);
      }

      // ===========================
      & .mouse{
         stroke: rgba(220, 20, 60,1);
         stroke-width: 2;
         fill: #fff;
         stroke-dashoffset: 100;
         stroke-dasharray: 100;

         @include animation(mouse,4s linear forwards);

         @include keyframes (mouse) {
            0% { stroke-dashoffset: 100; }
            100% { stroke-dashoffset: 0; }
         }
      }

      // ===========================
      & .cloudpart-anime{
         @include animation(cloudpart-anime,4s cubic-bezier(0.3,-0.5,0,1.3) infinite alternate);

         @include keyframes (cloudpart-anime) {
            0% { fill: #333; }
            25% { fill: rgba(249, 165, 221,1); }
            50% { fill: #333; }
            75% { fill: rgba(249, 165, 221,1); }
            100% { fill: #333; }
         }
      }

      // ===========================
      & .cloud-stick{
         stroke-dashoffset: -200;
         stroke-dasharray: 300;
         @include animation(cloud-stick,1.5s linear forwards);

         @include keyframes (cloud-stick) {
            0% { stroke-dashoffset: -200; }
            100% { stroke-dashoffset: 0; }
         }
      }

      // ===========================
      & .drop_anime{
         @include scale(0);
         @include transform-origin(520px 160px 0);
         @include animation(drop_anime,1s cubic-bezier(0.3,-0.3,0,1.3) forwards 1.5s);

         @include keyframes (drop_anime) {
            0% { fill: rgba(255, 255, 255,1); @include generic-transform(translate(-50px,0) scale(0)); }
            50% { fill: rgba(135, 206, 235,1); @include generic-transform(translate(10px,0) scale(1.3)); }
            100% { fill: rgba(135, 206, 235,1); @include generic-transform(translate(0,0) scale(1)); }
         }
      }

   }
}

</style>